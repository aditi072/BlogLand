"use strict";(self.webpackChunkmediumclone_angular=self.webpackChunkmediumclone_angular||[]).push([[625],{4103:(_,C,l)=>{l.d(C,{H:()=>c});var f=l(2223);let c=(()=>{class m{constructor(){this.message="Something went wrong"}}return m.\u0275fac=function(g){return new(g||m)},m.\u0275cmp=f.Xpm({type:m,selectors:[["mc-error-message"]],inputs:{message:"message"},standalone:!0,features:[f.jDz],decls:2,vars:1,template:function(g,h){1&g&&(f.TgZ(0,"div"),f._uU(1),f.qZA()),2&g&&(f.xp6(1),f.Oqu(h.message))},encapsulation:2}),m})()},2625:(_,C,l)=>{l.d(C,{e:()=>ge});var f={};l.r(f),l.d(f,{exclude:()=>re,extract:()=>O,parse:()=>Z,parseUrl:()=>w,pick:()=>J,stringify:()=>j,stringifyUrl:()=>D});var c=l(4755),m=l(7701),p=l(9841),g=l(4766),h=l(4103),y=l(8929),i=l(2223);let M=(()=>{class e{range(t,n){return[...Array(n-t).keys()].map(a=>a+t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const R=function(e){return{active:e}},z=function(e){return{page:e}};function Y(e,r){if(1&e&&(i.TgZ(0,"li",2)(1,"a",3),i._uU(2),i.qZA()()),2&e){const t=r.$implicit,n=i.oxw();i.Q6J("ngClass",i.VKq(4,R,n.currentPage===t)),i.xp6(1),i.Q6J("routerLink",n.url)("queryParams",i.VKq(6,z,t)),i.xp6(1),i.Oqu(t)}}let K=(()=>{class e{constructor(t){this.utilsService=t,this.total=0,this.limit=20,this.currentPage=1,this.url="",this.pagesCount=1,this.pages=[]}ngOnInit(){this.pagesCount=Math.ceil(this.total/this.limit),this.pages=this.pagesCount>0?this.utilsService.range(1,this.pagesCount):[]}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(M))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mc-pagination"]],inputs:{total:"total",limit:"limit",currentPage:"currentPage",url:"url"},standalone:!0,features:[i.jDz],decls:2,vars:1,consts:[[1,"pagination"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"routerLink","queryParams"]],template:function(t,n){1&t&&(i.TgZ(0,"ul",0),i.YNc(1,Y,3,8,"li",1),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngForOf",n.pages))},dependencies:[c.ez,c.mk,c.sg,m.rH],encapsulation:2}),e})();var V=l(4602),x=l(2488);const S="%[a-f0-9]{2}",E=new RegExp("("+S+")|([^%]+?)","gi"),L=new RegExp("("+S+")+","gi");function U(e,r){try{return[decodeURIComponent(e.join(""))]}catch{}if(1===e.length)return e;const t=e.slice(0,r=r||1),n=e.slice(r);return Array.prototype.concat.call([],U(t),U(n))}function B(e){try{return decodeURIComponent(e)}catch{let r=e.match(E)||[];for(let t=1;t<r.length;t++)r=(e=U(r,t).join("")).match(E)||[];return e}}function v(e,r){if("string"!=typeof e||"string"!=typeof r)throw new TypeError("Expected the arguments to be of type `string`");if(""===e||""===r)return[];const t=e.indexOf(r);return-1===t?[]:[e.slice(0,t),e.slice(t+r.length)]}function A(e,r){const t={};if(Array.isArray(r))for(const n of r){const a=Object.getOwnPropertyDescriptor(e,n);a?.enumerable&&Object.defineProperty(t,n,a)}else for(const n of Reflect.ownKeys(e)){const a=Object.getOwnPropertyDescriptor(e,n);a.enumerable&&r(n,e[n],e)&&Object.defineProperty(t,n,a)}return t}const W=e=>null==e,X=e=>encodeURIComponent(e).replace(/[!'()*]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`),T=Symbol("encodeFragmentIdentifier");function I(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function d(e,r){return r.encode?r.strict?X(e):encodeURIComponent(e):e}function F(e,r){return r.decode?function k(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return function H(e){const r={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"};let t=L.exec(e);for(;t;){try{r[t[0]]=decodeURIComponent(t[0])}catch{const a=B(t[0]);a!==t[0]&&(r[t[0]]=a)}t=L.exec(e)}r["%C2"]="\ufffd";const n=Object.keys(r);for(const a of n)e=e.replace(new RegExp(a,"g"),r[a]);return e}(e)}}(e):e}function P(e){return Array.isArray(e)?e.sort():"object"==typeof e?P(Object.keys(e)).sort((r,t)=>Number(r)-Number(t)).map(r=>e[r]):e}function N(e){const r=e.indexOf("#");return-1!==r&&(e=e.slice(0,r)),e}function b(e,r){return r.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):r.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())&&(e="true"===e.toLowerCase()),e}function O(e){const r=(e=N(e)).indexOf("?");return-1===r?"":e.slice(r+1)}function Z(e,r){I((r={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...r}).arrayFormatSeparator);const t=function ee(e){let r;switch(e.arrayFormat){case"index":return(t,n,a)=>{r=/\[(\d*)]$/.exec(t),t=t.replace(/\[\d*]$/,""),r?(void 0===a[t]&&(a[t]={}),a[t][r[1]]=n):a[t]=n};case"bracket":return(t,n,a)=>{r=/(\[])$/.exec(t),a[t=t.replace(/\[]$/,"")]=r?void 0!==a[t]?[...a[t],n]:[n]:n};case"colon-list-separator":return(t,n,a)=>{r=/(:list)$/.exec(t),a[t=t.replace(/:list$/,"")]=r?void 0!==a[t]?[...a[t],n]:[n]:n};case"comma":case"separator":return(t,n,a)=>{const o="string"==typeof n&&n.includes(e.arrayFormatSeparator),s="string"==typeof n&&!o&&F(n,e).includes(e.arrayFormatSeparator);n=s?F(n,e):n;const u=o||s?n.split(e.arrayFormatSeparator).map(me=>F(me,e)):null===n?n:F(n,e);a[t]=u};case"bracket-separator":return(t,n,a)=>{const o=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!o)return void(a[t]=n&&F(n,e));const s=null===n?[]:n.split(e.arrayFormatSeparator).map(u=>F(u,e));a[t]=void 0!==a[t]?[...a[t],...s]:s};default:return(t,n,a)=>{a[t]=void 0!==a[t]?[...[a[t]].flat(),n]:n}}}(r),n=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const a of e.split("&")){if(""===a)continue;const o=r.decode?a.replace(/\+/g," "):a;let[s,u]=v(o,"=");void 0===s&&(s=o),u=void 0===u?null:["comma","separator","bracket-separator"].includes(r.arrayFormat)?u:F(u,r),t(F(s,r),u,n)}for(const[a,o]of Object.entries(n))if("object"==typeof o&&null!==o)for(const[s,u]of Object.entries(o))o[s]=b(u,r);else n[a]=b(o,r);return!1===r.sort?n:(!0===r.sort?Object.keys(n).sort():Object.keys(n).sort(r.sort)).reduce((a,o)=>{const s=n[o];return a[o]=s&&"object"==typeof s&&!Array.isArray(s)?P(s):s,a},Object.create(null))}function j(e,r){if(!e)return"";I((r={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...r}).arrayFormatSeparator);const t=s=>r.skipNull&&W(e[s])||r.skipEmptyString&&""===e[s],n=function G(e){switch(e.arrayFormat){case"index":return r=>(t,n)=>{const a=t.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?t:null===n?[...t,[d(r,e),"[",a,"]"].join("")]:[...t,[d(r,e),"[",d(a,e),"]=",d(n,e)].join("")]};case"bracket":return r=>(t,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?t:null===n?[...t,[d(r,e),"[]"].join("")]:[...t,[d(r,e),"[]=",d(n,e)].join("")];case"colon-list-separator":return r=>(t,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?t:null===n?[...t,[d(r,e),":list="].join("")]:[...t,[d(r,e),":list=",d(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const r="bracket-separator"===e.arrayFormat?"[]=":"=";return t=>(n,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:(a=null===a?"":a,0===n.length?[[d(t,e),r,d(a,e)].join("")]:[[n,d(a,e)].join(e.arrayFormatSeparator)])}default:return r=>(t,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?t:null===n?[...t,d(r,e)]:[...t,[d(r,e),"=",d(n,e)].join("")]}}(r),a={};for(const[s,u]of Object.entries(e))t(s)||(a[s]=u);const o=Object.keys(a);return!1!==r.sort&&o.sort(r.sort),o.map(s=>{const u=e[s];return void 0===u?"":null===u?d(s,r):Array.isArray(u)?0===u.length&&"bracket-separator"===r.arrayFormat?d(s,r)+"[]":u.reduce(n(s),[]).join("&"):d(s,r)+"="+d(u,r)}).filter(s=>s.length>0).join("&")}function w(e,r){r={decode:!0,...r};let[t,n]=v(e,"#");return void 0===t&&(t=e),{url:t?.split("?")?.[0]??"",query:Z(O(e),r),...r&&r.parseFragmentIdentifier&&n?{fragmentIdentifier:F(n,r)}:{}}}function D(e,r){r={encode:!0,strict:!0,[T]:!0,...r};const t=N(e.url).split("?")[0]||"";let o=j({...Z(O(e.url),{sort:!1}),...e.query},r);o&&(o=`?${o}`);let s=function te(e){let r="";const t=e.indexOf("#");return-1!==t&&(r=e.slice(t)),r}(e.url);if(e.fragmentIdentifier){const u=new URL(t);u.hash=e.fragmentIdentifier,s=r[T]?u.hash:`#${e.fragmentIdentifier}`}return`${t}${o}${s}`}function J(e,r,t){t={parseFragmentIdentifier:!0,[T]:!1,...t};const{url:n,query:a,fragmentIdentifier:o}=w(e,t);return D({url:n,query:A(a,r),fragmentIdentifier:o},t)}function re(e,r,t){return J(e,Array.isArray(r)?a=>!r.includes(a):(a,o)=>!r(a,o),t)}const $=f;var ne=l(7181),ie=l(736),Q=l(6789);const ae=function(e,r){return{btn:!0,"btn-sm":!0,"btn-primary":e,"btn-outline-primary":r}};let se=(()=>{class e{constructor(t){this.store=t,this.isFavorited=!1,this.favoritesCount=0,this.articleSlug=""}handleLike(){this.store.dispatch(ie.p.addToFavorites({isFavorited:this.isFavorited,slug:this.articleSlug})),this.favoritesCount=this.isFavorited?this.favoritesCount-1:this.favoritesCount+1,this.isFavorited=!this.isFavorited}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Q.yh))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mc-add-to-favorites"]],inputs:{isFavorited:"isFavorited",favoritesCount:"favoritesCount",articleSlug:"articleSlug"},standalone:!0,features:[i.jDz],decls:4,vars:5,consts:[[3,"ngClass","click"],[1,"ion-heart"]],template:function(t,n){1&t&&(i.TgZ(0,"button",0),i.NdJ("click",function(){return n.handleLike()}),i._UZ(1,"i",1),i.TgZ(2,"span"),i._uU(3),i.qZA()()),2&t&&(i.Q6J("ngClass",i.WLB(2,ae,n.isFavorited,!n.isFavorited)),i.xp6(3),i.hij("\xa0 ",n.favoritesCount,""))},dependencies:[c.ez,c.mk],encapsulation:2}),e})();function oe(e,r){1&e&&i._UZ(0,"mc-loading")}function ce(e,r){if(1&e&&i._UZ(0,"mc-error-message",2),2&e){const t=i.oxw().ngIf;i.Q6J("message",t.error)}}const q=function(e){return["/profiles",e]},le=function(e){return["/articles",e]};function ue(e,r){if(1&e&&(i.TgZ(0,"div",5)(1,"div",6)(2,"a",7),i._UZ(3,"img",8),i.qZA(),i.TgZ(4,"div",9)(5,"a",7),i._uU(6),i.qZA(),i.TgZ(7,"span",10),i._uU(8),i.qZA()(),i.TgZ(9,"div",11),i._UZ(10,"mc-add-to-favorites",12),i.qZA()(),i.TgZ(11,"a",13)(12,"h1"),i._uU(13),i.qZA(),i.TgZ(14,"p"),i._uU(15),i.qZA(),i.TgZ(16,"span"),i._uU(17,"Read more..."),i.qZA(),i._UZ(18,"mc-tag-list",14),i.qZA()()),2&e){const t=r.$implicit;i.xp6(2),i.Q6J("routerLink",i.VKq(12,q,t.author.username)),i.xp6(1),i.Q6J("src",t.author.image,i.LSH),i.xp6(2),i.Q6J("routerLink",i.VKq(14,q,t.author.username)),i.xp6(1),i.hij(" ",t.author.username," "),i.xp6(2),i.Oqu(t.createdAt),i.xp6(2),i.Q6J("isFavorited",t.favorited)("articleSlug",t.slug)("favoritesCount",t.favoritesCount),i.xp6(1),i.Q6J("routerLink",i.VKq(16,le,t.slug)),i.xp6(2),i.Oqu(t.title),i.xp6(2),i.Oqu(t.description),i.xp6(3),i.Q6J("tags",t.tagList)}}function fe(e,r){if(1&e&&(i.TgZ(0,"div"),i.YNc(1,ue,19,18,"div",3),i._UZ(2,"mc-pagination",4),i.qZA()),2&e){const t=i.oxw().ngIf,n=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.feed.articles),i.xp6(1),i.Q6J("total",t.feed.articlesCount)("limit",n.limit)("url",n.baseUrl)("currentPage",n.currentPage)}}function de(e,r){if(1&e&&(i.ynx(0),i.YNc(1,oe,1,0,"mc-loading",0),i.YNc(2,ce,1,1,"mc-error-message",1),i.YNc(3,fe,3,5,"div",0),i.BQk()),2&e){const t=r.ngIf;i.xp6(1),i.Q6J("ngIf",t.isLoading),i.xp6(1),i.Q6J("ngIf",t.error),i.xp6(1),i.Q6J("ngIf",t.feed)}}let ge=(()=>{class e{constructor(t,n,a){this.store=t,this.router=n,this.route=a,this.apiUrl="",this.data$=(0,p.a)({isLoading:this.store.select(x.xU),error:this.store.select(x.zh),feed:this.store.select(x.up)}),this.limit=g.N.limit,this.baseUrl=this.router.url.split("?")[0],this.currentPage=0}ngOnInit(){this.route.queryParams.subscribe(t=>{this.currentPage=Number(t.page||"1"),this.fetchFeed()})}ngOnChanges(t){!t.apiUrl.firstChange&&t.apiUrl.currentValue!==t.apiUrl.previousValue&&this.fetchFeed()}fetchFeed(){const t=this.currentPage*this.limit-this.limit,n=$.parseUrl(this.apiUrl),a=$.stringify({limit:this.limit,offset:t,...n.query});this.store.dispatch(V.I.getFeed({url:`${n.url}?${a}`}))}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Q.yh),i.Y36(m.F0),i.Y36(m.gz))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mc-feed"]],inputs:{apiUrl:"apiUrl"},standalone:!0,features:[i.TTD,i.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[3,"message",4,"ngIf"],[3,"message"],["class","article-preview",4,"ngFor","ngForOf"],[3,"total","limit","url","currentPage"],[1,"article-preview"],[1,"article-meta"],[3,"routerLink"],[3,"src"],[1,"info"],[1,"date"],[1,"pull-xs-right"],[3,"isFavorited","articleSlug","favoritesCount"],[1,"preview-link",3,"routerLink"],[3,"tags"]],template:function(t,n){1&t&&(i.YNc(0,de,4,3,"ng-container",0),i.ALo(1,"async")),2&t&&i.Q6J("ngIf",i.lcZ(1,1,n.data$))},dependencies:[c.ez,c.sg,c.O5,c.Ov,m.rH,h.H,y.N,K,ne.J,se],encapsulation:2}),e})()},8929:(_,C,l)=>{l.d(C,{N:()=>c});var f=l(2223);let c=(()=>{class m{}return m.\u0275fac=function(g){return new(g||m)},m.\u0275cmp=f.Xpm({type:m,selectors:[["mc-loading"]],standalone:!0,features:[f.jDz],decls:2,vars:0,template:function(g,h){1&g&&(f.TgZ(0,"div"),f._uU(1,"Loading..."),f.qZA())},encapsulation:2}),m})()},7181:(_,C,l)=>{l.d(C,{J:()=>p});var f=l(4755),c=l(2223);function m(g,h){if(1&g&&(c.TgZ(0,"li",2),c._uU(1),c.qZA()),2&g){const y=h.$implicit;c.xp6(1),c.hij(" ",y," ")}}let p=(()=>{class g{constructor(){this.tags=[]}}return g.\u0275fac=function(y){return new(y||g)},g.\u0275cmp=c.Xpm({type:g,selectors:[["mc-tag-list"]],inputs:{tags:"tags"},standalone:!0,features:[c.jDz],decls:2,vars:1,consts:[[1,"tag-list"],["class","tag-default tag-pill tag-outline",4,"ngFor","ngForOf"],[1,"tag-default","tag-pill","tag-outline"]],template:function(y,i){1&y&&(c.TgZ(0,"ul",0),c.YNc(1,m,2,1,"li",1),c.qZA()),2&y&&(c.xp6(1),c.Q6J("ngForOf",i.tags))},dependencies:[f.ez,f.sg],encapsulation:2}),g})()}}]);